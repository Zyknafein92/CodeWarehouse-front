<div class="content-wrapper">
  <div class="content-container">
    <div class="content-right-side">
      <ngx-codemirror *ngIf="this.codePage"
                      [(ngModel)]="this.codePage.codeTextContent"
                      (ngModelChange)="editContent()"
                      [options]=
                        "{lineNumbers: true,
                          theme: 'base16-dark',
                          mode: this.codePage.language,
                          readOnly: this.isReadOnly,
                        }">
      </ngx-codemirror>
    </div>
    <div class="content-left-side">
      <div class="left-side-options-container">
        <div class="checkbox-container" *ngIf="this.isUserOwner">
          <form [formGroup]="forms">
            <input type="checkbox" id="isEditable" name="isEditable" value="isEditable" formControlName="isEditable" (click)="switchCodePageModificationStatusMode()">
            <label for="isEditable"><span>Autoriser la modification</span></label>
          </form>
        </div>

        <div class="button-container">
          <app-little-button label="Projet" radius="60px" (click)="switchDisplayModeToProject()"></app-little-button>
        </div>
        <div class="button-container">
          <app-little-button label="Notes" radius="60px" (click)="switchDisplayModeToCommentary()"></app-little-button>
        </div>
      </div>

      <ng-container *ngIf="isNotesViewActive && this.codePage">
        <div class="display-content-container-text-area" *ngIf="this.codePage.codeCommentary != '' ">
          <form [formGroup]="forms" >
          <textarea autosize class="text-area-content"
                    id="code"
                    placeholder="Code..."
                    formControlName="codeCommentary"
                    rows="15"
                    [readOnly]="this.isReadOnly"
                    required ></textarea>
            <div class="validation-button-container">
              <app-validation-button *ngIf="!this.isReadOnly" label=" {{ 'sauvegarder' | uppercase}}" (click)="saveCodeCommentary()"></app-validation-button>
            </div>
          </form>
        </div>
      </ng-container>
      <ng-container *ngIf="isProjectViewActive">
        <div class="display-content-container">
          <div class="page-list-container"  *ngFor="let page of this.project.codePageList">
            <p class="link" (click)="displayNewCodePage(page.codePageUuid)">{{page.name}}</p>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>
